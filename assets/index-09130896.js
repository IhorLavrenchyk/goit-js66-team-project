(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const a="api-key=9GYTd3hNgT1cJMME7q1HMJAu02NGsmfm",i="https://api.nytimes.com",l="https://www.nytimes.com",d=`${i}/svc/topstories/v2/arts.json?${a}`,f=`${i}/svc/search/v2/articlesearch.json?`;document.addEventListener("DOMContentLoaded",y);const h=async()=>{try{const r=await fetch(d);if(r.ok===!1)throw new Error("Such a request has not been found");const e=(await r.json()).results;u(e)}catch(r){console.log(r.message)}},m=document.querySelector(".search-input");m.addEventListener("change",p);function p(r){const o=r.target.value;console.log(o),g(o)}function y(r){r.preventDefault(),h()}const g=async r=>{try{const o=await fetch(`${f}q=${r}&${a}`);if(o.ok===!1)throw new Error("Such a request has not been found");const n=(await o.json()).response.docs;u(n)}catch(o){console.log(o.message)}};function u(r){const o=r.map(e=>({section:e.section_name||e.section,title:e.title||e.headline.main,description:e.abstract,url:e.web_url||e.url,date:e.pub_date||e.created_date,img:`${l}/${e.multimedia[1].url}`}));console.log(o)}
