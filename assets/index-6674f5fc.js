(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const a="api-key=9GYTd3hNgT1cJMME7q1HMJAu02NGsmfm",i="https://api.nytimes.com",u="https://www.nytimes.com",d=`${i}/svc/topstories/v2/arts.json?${a}`,f=`${i}/svc/search/v2/articlesearch.json?`;document.addEventListener("DOMContentLoaded",g);const h=async()=>{try{const o=await fetch(d);if(o.ok===!1)throw new Error("Such a request has not been found");const t=await o.json();console.log(o);const e=t.results;console.log(e),l(e)}catch(o){console.log(o.message)}},m=document.querySelector(".search-input");m.addEventListener("change",p);function p(o){const t=o.target.value;console.log(t),y(t)}function g(o){o.preventDefault(),console.log(o),h()}const y=async o=>{try{const t=await fetch(`${f}q=${o}&${a}`);if(t.ok===!1)throw new Error("Such a request has not been found");const e=await t.json();console.log(t);const r=e.response.docs;l(r)}catch(t){console.log(t.message)}};function l(o){const t=o.map(e=>({section:e.section_name||e.section,title:e.title||e.headline.main,description:e.abstract,url:e.web_url||e.url,date:e.pub_date||e.created_date,img:`${u}/${e.multimedia[1].url}`}));console.log(t)}
